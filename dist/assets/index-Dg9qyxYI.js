import{bw as V,aA as P,W as f,f1 as U,O as L,r as i,b7 as Q,bz as J,bA as D,aH as S,f5 as x,cC as q}from"./index-ChUmNm8R.js";import{a as F}from"./EyeOutlined-BGetrG_9.js";import{b as E,d as K,c as ee,a as oe,R as te,I as T}from"./ZoomOutOutlined-BnxwUvIO.js";import{b as R}from"./DownOutlined-z3I3nDv9.js";import{i as re,e as j,R as N}from"./LeftOutlined-lLzXux5-.js";import{g as ne}from"./index-WMmC3KlA.js";import{i as ie}from"./fade-8FE2cY_X.js";import{u as ae}from"./CheckOutlined-DPOLd74P.js";const $=e=>({position:e||"absolute",inset:0}),se=e=>{const{iconCls:r,motionDurationSlow:o,paddingXXS:t,marginXXS:n,prefixCls:a,colorTextLightSolid:s}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:s,background:new f("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${o}`,[`.${a}-mask-info`]:Object.assign(Object.assign({},U),{padding:`0 ${L(t)}`,[r]:{marginInlineEnd:n,svg:{verticalAlign:"baseline"}}})}},le=e=>{const{previewCls:r,modalMaskBg:o,paddingSM:t,marginXL:n,margin:a,paddingLG:s,previewOperationColorDisabled:g,previewOperationHoverColor:p,motionDurationSlow:d,iconCls:u,colorTextLightSolid:l}=e,c=new f(o).setA(.1),m=c.clone().setA(.2);return{[`${r}-footer`]:{position:"fixed",bottom:n,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${r}-progress`]:{marginBottom:a},[`${r}-close`]:{position:"fixed",top:n,right:{_skip_check_:!0,value:n},display:"flex",color:l,backgroundColor:c.toRgbString(),borderRadius:"50%",padding:t,outline:0,border:0,cursor:"pointer",transition:`all ${d}`,"&:hover":{backgroundColor:m.toRgbString()},[`& > ${u}`]:{fontSize:e.previewOperationSize}},[`${r}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${L(s)}`,backgroundColor:c.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:t,padding:t,cursor:"pointer",transition:`all ${d}`,userSelect:"none",[`&:not(${r}-operations-operation-disabled):hover > ${u}`]:{color:p},"&-disabled":{color:g,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${u}`]:{fontSize:e.previewOperationSize}}}}},ce=e=>{const{modalMaskBg:r,iconCls:o,previewOperationColorDisabled:t,previewCls:n,zIndexPopup:a,motionDurationSlow:s}=e,g=new f(r).setA(.1),p=g.clone().setA(.2);return{[`${n}-switch-left, ${n}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(a).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:g.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${s}`,userSelect:"none","&:hover":{background:p.toRgbString()},"&-disabled":{"&, &:hover":{color:t,background:"transparent",cursor:"not-allowed",[`> ${o}`]:{cursor:"not-allowed"}}},[`> ${o}`]:{fontSize:e.previewOperationSize}},[`${n}-switch-left`]:{insetInlineStart:e.marginSM},[`${n}-switch-right`]:{insetInlineEnd:e.marginSM}}},ge=e=>{const{motionEaseOut:r,previewCls:o,motionDurationSlow:t,componentCls:n}=e;return[{[`${n}-preview-root`]:{[o]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${o}-body`]:Object.assign(Object.assign({},$()),{overflow:"hidden"}),[`${o}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${t} ${r} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},$()),{transition:`transform ${t} ${r} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${o}-moving`]:{[`${o}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${n}-preview-root`]:{[`${o}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${n}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[le(e),ce(e)]}]},pe=e=>{const{componentCls:r}=e;return{[r]:{position:"relative",display:"inline-block",[`${r}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${r}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${r}-mask`]:Object.assign({},se(e)),[`${r}-mask:hover`]:{opacity:1},[`${r}-placeholder`]:Object.assign({},$())}}},me=e=>{const{previewCls:r}=e;return{[`${r}-root`]:re(e,"zoom"),"&":ie(e,!0)}},de=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new f(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new f(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new f(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),B=V("Image",e=>{const r=`${e.componentCls}-preview`,o=P(e,{previewCls:r,modalMaskBg:new f("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[pe(o),ge(o),ne(P(o,{componentCls:r})),me(o)]},de);var ue=function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const _={rotateLeft:i.createElement(te,null),rotateRight:i.createElement(oe,null),zoomIn:i.createElement(ee,null),zoomOut:i.createElement(K,null),close:i.createElement(Q,null),left:i.createElement(N,null),right:i.createElement(j,null),flipX:i.createElement(E,null),flipY:i.createElement(E,{rotate:90})},we=e=>{var{previewPrefixCls:r,preview:o}=e,t=ue(e,["previewPrefixCls","preview"]);const{getPrefixCls:n,direction:a}=i.useContext(J),s=n("image",r),g=`${s}-preview`,p=n(),d=D(s),[u,l,c]=B(s,d),[m]=R("ImagePreview",typeof o=="object"?o.zIndex:void 0),C=i.useMemo(()=>Object.assign(Object.assign({},_),{left:a==="rtl"?i.createElement(j,null):i.createElement(N,null),right:a==="rtl"?i.createElement(N,null):i.createElement(j,null)}),[a]),b=i.useMemo(()=>{var v;if(o===!1)return o;const w=typeof o=="object"?o:{},y=S(l,c,d,(v=w.rootClassName)!==null&&v!==void 0?v:"");return Object.assign(Object.assign({},w),{transitionName:x(p,"zoom",w.transitionName),maskTransitionName:x(p,"fade",w.maskTransitionName),rootClassName:y,zIndex:m})},[o]);return u(i.createElement(T.PreviewGroup,Object.assign({preview:b,previewPrefixCls:g,icons:C},t)))};var z=function(e,r){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]]);return o};const fe=e=>{const{prefixCls:r,preview:o,className:t,rootClassName:n,style:a}=e,s=z(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:g,getPopupContainer:p,className:d,style:u,preview:l}=q("image"),[c]=ae("Image"),m=g("image",r),C=g(),b=D(m),[v,w,y]=B(m,b),A=S(n,w,y,b),H=S(t,w,d),[Y]=R("ImagePreview",typeof o=="object"?o.zIndex:void 0),k=i.useMemo(()=>{if(o===!1)return o;const I=typeof o=="object"?o:{},{getContainer:O,closeIcon:M,rootClassName:G,destroyOnClose:W,destroyOnHidden:h}=I,Z=z(I,["getContainer","closeIcon","rootClassName","destroyOnClose","destroyOnHidden"]);return Object.assign(Object.assign({mask:i.createElement("div",{className:`${m}-mask-info`},i.createElement(F,null),c==null?void 0:c.preview),icons:_},Z),{destroyOnClose:h??W,rootClassName:S(A,G),getContainer:O??p,transitionName:x(C,"zoom",I.transitionName),maskTransitionName:x(C,"fade",I.maskTransitionName),zIndex:Y,closeIcon:M??(l==null?void 0:l.closeIcon)})},[o,c,l==null?void 0:l.closeIcon]),X=Object.assign(Object.assign({},u),a);return v(i.createElement(T,Object.assign({prefixCls:m,preview:k,rootClassName:A,className:H,style:X},s)))};fe.PreviewGroup=we;export{fe as I};
