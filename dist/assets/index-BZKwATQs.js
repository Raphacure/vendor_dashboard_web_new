import{ai as Oe,r as i,aH as F,bw as Xe,aA as We,bx as Be,O as z,K as Ie,W as lt,bz as ve,aY as ze,b7 as ct,f0 as He,f1 as qe,X as Ae,aL as be,aD as Ge,f2 as dt,aE as ut,cG as De,R as Fe,cC as pt,bC as mt,ax as gt,f3 as ft,aM as _e}from"./index-ChUmNm8R.js";import{C as $t,R as bt,c as ht,a as yt,b as vt,U as Me}from"./Upload-CTnVjxYJ.js";import{g as St}from"./collapse-BbEVqHco.js";import{i as Ct}from"./fade-8FE2cY_X.js";import{u as wt}from"./useForceUpdate-jQjUdsvY.js";import{B as Ue}from"./button-D0Rmo6Y5.js";import{R as xt}from"./DeleteOutlined-LwZaW3bw.js";import{R as Et,a as Ot}from"./EyeOutlined-BGetrG_9.js";import{a as It,R as jt,u as Pt}from"./CheckOutlined-DPOLd74P.js";import{f as Ve}from"./LeftOutlined-lLzXux5-.js";function ne(e){return!e||e<0?0:e>100?100:e}function he({success:e,successPercent:t}){let n=t;return e&&"progress"in e&&(n=e.progress),e&&"percent"in e&&(n=e.percent),n}const Rt=({percent:e,success:t,successPercent:n})=>{const o=ne(he({success:t,successPercent:n}));return[o,ne(ne(e)-o)]},Nt=({success:e={},strokeColor:t})=>{const{strokeColor:n}=e;return[n||Oe.green,t||null]},Se=(e,t,n)=>{var o,s,r,a;let l=-1,c=-1;if(t==="step"){const $=n.steps,u=n.strokeWidth;typeof e=="string"||typeof e>"u"?(l=e==="small"?2:14,c=u??8):typeof e=="number"?[l,c]=[e,e]:[l=14,c=8]=Array.isArray(e)?e:[e.width,e.height],l*=$}else if(t==="line"){const $=n==null?void 0:n.strokeWidth;typeof e=="string"||typeof e>"u"?c=$||(e==="small"?6:8):typeof e=="number"?[l,c]=[e,e]:[l=-1,c=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[l,c]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[l,c]=[e,e]:Array.isArray(e)&&(l=(s=(o=e[0])!==null&&o!==void 0?o:e[1])!==null&&s!==void 0?s:120,c=(a=(r=e[0])!==null&&r!==void 0?r:e[1])!==null&&a!==void 0?a:120));return[l,c]},Lt=3,At=e=>Lt/e*100,Dt=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:o="round",gapPosition:s,gapDegree:r,width:a=120,type:l,children:c,success:$,size:u=a,steps:f}=e,[S,w]=Se(u,"circle");let{strokeWidth:R}=e;R===void 0&&(R=Math.max(At(S),6));const L={width:S,height:w,fontSize:S*.15+6},N=i.useMemo(()=>{if(r||r===0)return r;if(l==="dashboard")return 75},[r,l]),y=Rt(e),x=s||l==="dashboard"&&"bottom"||void 0,U=Object.prototype.toString.call(e.strokeColor)==="[object Object]",W=Nt({success:$,strokeColor:e.strokeColor}),O=F(`${t}-inner`,{[`${t}-circle-gradient`]:U}),A=i.createElement($t,{steps:f,percent:f?y[1]:y,strokeWidth:R,trailWidth:R,strokeColor:f?W[1]:W,strokeLinecap:o,trailColor:n,prefixCls:t,gapDegree:N,gapPosition:x}),B=S<=20,I=i.createElement("div",{className:O,style:L},A,!B&&c);return B?i.createElement(Ve,{title:c},I):I},ye="--progress-line-stroke-color",Ke="--progress-percent",Te=e=>{const t=e?"100%":"-100%";return new Ie(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Ft=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},Be(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${ye})`]},height:"100%",width:`calc(1 / var(${Ke}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${z(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:Te(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:Te(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},_t=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Mt=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Ut=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},Tt=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Xt=Xe("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=We(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Ft(n),_t(n),Mt(n),Ut(n)]},Tt);var Wt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]]);return n};const Bt=e=>{let t=[];return Object.keys(e).forEach(n=>{const o=parseFloat(n.replace(/%/g,""));Number.isNaN(o)||t.push({key:o,value:e[n]})}),t=t.sort((n,o)=>n.key-o.key),t.map(({key:n,value:o})=>`${o} ${n}%`).join(", ")},zt=(e,t)=>{const{from:n=Oe.blue,to:o=Oe.blue,direction:s=t==="rtl"?"to left":"to right"}=e,r=Wt(e,["from","to","direction"]);if(Object.keys(r).length!==0){const l=Bt(r),c=`linear-gradient(${s}, ${l})`;return{background:c,[ye]:c}}const a=`linear-gradient(${s}, ${n}, ${o})`;return{background:a,[ye]:a}},Ht=e=>{const{prefixCls:t,direction:n,percent:o,size:s,strokeWidth:r,strokeColor:a,strokeLinecap:l="round",children:c,trailColor:$=null,percentPosition:u,success:f}=e,{align:S,type:w}=u,R=a&&typeof a!="string"?zt(a,n):{[ye]:a,background:a},L=l==="square"||l==="butt"?0:void 0,N=s??[-1,r||(s==="small"?6:8)],[y,x]=Se(N,"line",{strokeWidth:r}),U={backgroundColor:$||void 0,borderRadius:L},W=Object.assign(Object.assign({width:`${ne(o)}%`,height:x,borderRadius:L},R),{[Ke]:ne(o)/100}),O=he(e),A={width:`${ne(O)}%`,height:x,borderRadius:L,backgroundColor:f==null?void 0:f.strokeColor},B={width:y<0?"100%":y},I=i.createElement("div",{className:`${t}-inner`,style:U},i.createElement("div",{className:F(`${t}-bg`,`${t}-bg-${w}`),style:W},w==="inner"&&c),O!==void 0&&i.createElement("div",{className:`${t}-success-bg`,style:A})),D=w==="outer"&&S==="start",m=w==="outer"&&S==="end";return w==="outer"&&S==="center"?i.createElement("div",{className:`${t}-layout-bottom`},I,c):i.createElement("div",{className:`${t}-outer`,style:B},D&&c,I,m&&c)},qt=e=>{const{size:t,steps:n,rounding:o=Math.round,percent:s=0,strokeWidth:r=8,strokeColor:a,trailColor:l=null,prefixCls:c,children:$}=e,u=o(n*(s/100)),S=t??[t==="small"?2:14,r],[w,R]=Se(S,"step",{steps:n,strokeWidth:r}),L=w/n,N=Array.from({length:n});for(let y=0;y<n;y++){const x=Array.isArray(a)?a[y]:a;N[y]=i.createElement("div",{key:y,className:F(`${c}-steps-item`,{[`${c}-steps-item-active`]:y<=u-1}),style:{backgroundColor:y<=u-1?x:l,width:L,height:R}})}return i.createElement("div",{className:`${c}-steps-outer`},N,$)};var Gt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]]);return n};const Vt=["normal","exception","active","success"],Kt=i.forwardRef((e,t)=>{const{prefixCls:n,className:o,rootClassName:s,steps:r,strokeColor:a,percent:l=0,size:c="default",showInfo:$=!0,type:u="line",status:f,format:S,style:w,percentPosition:R={}}=e,L=Gt(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:N="end",type:y="outer"}=R,x=Array.isArray(a)?a[0]:a,U=typeof a=="string"||Array.isArray(a)?a:void 0,W=i.useMemo(()=>{if(x){const h=typeof x=="string"?x:Object.values(x)[0];return new lt(h).isLight()}return!1},[a]),O=i.useMemo(()=>{var h,_;const q=he(e);return parseInt(q!==void 0?(h=q??0)===null||h===void 0?void 0:h.toString():(_=l??0)===null||_===void 0?void 0:_.toString(),10)},[l,e.success,e.successPercent]),A=i.useMemo(()=>!Vt.includes(f)&&O>=100?"success":f||"normal",[f,O]),{getPrefixCls:B,direction:I,progress:D}=i.useContext(ve),m=B("progress",n),[Q,Z,k]=Xt(m),G=u==="line",H=G&&!r,K=i.useMemo(()=>{if(!$)return null;const h=he(e);let _;const q=S||(d=>`${d}%`),Y=G&&W&&y==="inner";return y==="inner"||S||A!=="exception"&&A!=="success"?_=q(ne(l),ne(h)):A==="exception"?_=G?i.createElement(It,null):i.createElement(ct,null):A==="success"&&(_=G?i.createElement(Et,null):i.createElement(jt,null)),i.createElement("span",{className:F(`${m}-text`,{[`${m}-text-bright`]:Y,[`${m}-text-${N}`]:H,[`${m}-text-${y}`]:H}),title:typeof _=="string"?_:void 0},_)},[$,l,O,A,u,m,S]);let T;u==="line"?T=r?i.createElement(qt,Object.assign({},e,{strokeColor:U,prefixCls:m,steps:typeof r=="object"?r.count:r}),K):i.createElement(Ht,Object.assign({},e,{strokeColor:x,prefixCls:m,direction:I,percentPosition:{align:N,type:y}}),K):(u==="circle"||u==="dashboard")&&(T=i.createElement(Dt,Object.assign({},e,{strokeColor:x,prefixCls:m,progressStatus:A}),K));const V=F(m,`${m}-status-${A}`,{[`${m}-${u==="dashboard"&&"circle"||u}`]:u!=="line",[`${m}-inline-circle`]:u==="circle"&&Se(c,"circle")[0]<=20,[`${m}-line`]:H,[`${m}-line-align-${N}`]:H,[`${m}-line-position-${y}`]:H,[`${m}-steps`]:r,[`${m}-show-info`]:$,[`${m}-${c}`]:typeof c=="string",[`${m}-rtl`]:I==="rtl"},D==null?void 0:D.className,o,s,Z,k);return Q(i.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},D==null?void 0:D.style),w),className:V,role:"progressbar","aria-valuenow":O,"aria-valuemin":0,"aria-valuemax":100},ze(L,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),T))}),Yt=e=>{const{componentCls:t,iconCls:n}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${z(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${z(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[n]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${z(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${n},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},Jt=e=>{const{componentCls:t,iconCls:n,fontSize:o,lineHeight:s,calc:r}=e,a=`${t}-list-item`,l=`${a}-actions`,c=`${a}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},He()),{lineHeight:e.lineHeight,[a]:{position:"relative",height:r(e.lineHeight).mul(o).equal(),marginTop:e.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${a}-name`]:Object.assign(Object.assign({},qe),{padding:`0 ${z(e.paddingXS)}`,lineHeight:s,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[l]:{whiteSpace:"nowrap",[c]:{opacity:0},[n]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${c}:focus-visible,
              &.picture ${c}
            `]:{opacity:1}},[`${t}-icon ${n}`]:{color:e.colorIcon,fontSize:o},[`${a}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:r(o).add(e.paddingXS).equal(),fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${a}:hover ${c}`]:{opacity:1},[`${a}-error`]:{color:e.colorError,[`${a}-name, ${t}-icon ${n}`]:{color:e.colorError},[l]:{[`${n}, ${n}:hover`]:{color:e.colorError},[c]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Qt=e=>{const{componentCls:t}=e,n=new Ie("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=new Ie("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),s=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${s}-appear, ${s}-enter, ${s}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${s}-appear, ${s}-enter`]:{animationName:n},[`${s}-leave`]:{animationName:o}}},{[`${t}-wrapper`]:Ct(e)},n,o]},Zt=e=>{const{componentCls:t,iconCls:n,uploadThumbnailSize:o,uploadProgressOffset:s,calc:r}=e,a=`${t}-list`,l=`${a}-item`;return{[`${t}-wrapper`]:{[`
        ${a}${a}-picture,
        ${a}${a}-picture-card,
        ${a}${a}-picture-circle
      `]:{[l]:{position:"relative",height:r(o).add(r(e.lineWidth).mul(2)).add(r(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${z(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${l}-thumbnail`]:Object.assign(Object.assign({},qe),{width:o,height:o,lineHeight:z(r(o).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${l}-progress`]:{bottom:s,width:`calc(100% - ${z(r(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:r(o).add(e.paddingXS).equal()}},[`${l}-error`]:{borderColor:e.colorError,[`${l}-thumbnail ${n}`]:{[`svg path[fill='${Ae[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Ae.primary}']`]:{fill:e.colorError}}},[`${l}-uploading`]:{borderStyle:"dashed",[`${l}-name`]:{marginBottom:s}}},[`${a}${a}-picture-circle ${l}`]:{[`&, &::before, ${l}-thumbnail`]:{borderRadius:"50%"}}}}},kt=e=>{const{componentCls:t,iconCls:n,fontSizeLG:o,colorTextLightSolid:s,calc:r}=e,a=`${t}-list`,l=`${a}-item`,c=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},He()),{display:"block",[`${t}${t}-select`]:{width:c,height:c,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${z(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${a}${a}-picture-card, ${a}${a}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${a}-item-container`]:{display:"inline-block",width:c,height:c,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[l]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${z(r(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${z(r(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${l}:hover`]:{[`&::before, ${l}-actions`]:{opacity:1}},[`${l}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${n}-eye,
            ${n}-download,
            ${n}-delete
          `]:{zIndex:10,width:o,margin:`0 ${z(e.marginXXS)}`,fontSize:o,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:s,"&:hover":{color:s},svg:{verticalAlign:"baseline"}}},[`${l}-thumbnail, ${l}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${l}-name`]:{display:"none",textAlign:"center"},[`${l}-file + ${l}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${z(r(e.paddingXS).mul(2).equal())})`},[`${l}-uploading`]:{[`&${l}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${l}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${z(r(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},en=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},tn=e=>{const{componentCls:t,colorTextDisabled:n}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},Be(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:n,cursor:"not-allowed"}})}},nn=e=>({actionsColor:e.colorIcon}),rn=Xe("Upload",e=>{const{fontSizeHeading3:t,fontHeight:n,lineWidth:o,controlHeightLG:s,calc:r}=e,a=We(e,{uploadThumbnailSize:r(t).mul(2).equal(),uploadProgressOffset:r(r(n).div(2)).add(o).equal(),uploadPicCardSize:r(s).mul(2.55).equal()});return[tn(a),Yt(a),Zt(a),kt(a),Jt(a),Qt(a),en(a),St(a)]},nn);function fe(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function $e(e,t){const n=be(t),o=n.findIndex(({uid:s})=>s===e.uid);return o===-1?n.push(e):n[o]=e,n}function Ee(e,t){const n=e.uid!==void 0?"uid":"name";return t.filter(o=>o[n]===e[n])[0]}function on(e,t){const n=e.uid!==void 0?"uid":"name",o=t.filter(s=>s[n]!==e[n]);return o.length===t.length?null:o}const sn=(e="")=>{const t=e.split("/"),o=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(o)||[""])[0]},Ye=e=>e.indexOf("image/")===0,an=e=>{if(e.type&&!e.thumbUrl)return Ye(e.type);const t=e.thumbUrl||e.url||"",n=sn(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n)?!0:!(/^data:/.test(t)||n)},te=200;function ln(e){return new Promise(t=>{if(!e.type||!Ye(e.type)){t("");return}const n=document.createElement("canvas");n.width=te,n.height=te,n.style.cssText=`position: fixed; left: 0; top: 0; width: ${te}px; height: ${te}px; z-index: 9999; display: none;`,document.body.appendChild(n);const o=n.getContext("2d"),s=new Image;if(s.onload=()=>{const{width:r,height:a}=s;let l=te,c=te,$=0,u=0;r>a?(c=a*(te/r),u=-(c-l)/2):(l=r*(te/a),$=-(l-c)/2),o.drawImage(s,$,u,l,c);const f=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(s.src),t(f)},s.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const r=new FileReader;r.onload=()=>{r.result&&typeof r.result=="string"&&(s.src=r.result)},r.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const r=new FileReader;r.onload=()=>{r.result&&t(r.result)},r.readAsDataURL(e)}else s.src=window.URL.createObjectURL(e)})}const cn=i.forwardRef(({prefixCls:e,className:t,style:n,locale:o,listType:s,file:r,items:a,progress:l,iconRender:c,actionIconRender:$,itemRender:u,isImgUrl:f,showPreviewIcon:S,showRemoveIcon:w,showDownloadIcon:R,previewIcon:L,removeIcon:N,downloadIcon:y,extra:x,onPreview:U,onDownload:W,onClose:O},A)=>{var B,I;const{status:D}=r,[m,Q]=i.useState(D);i.useEffect(()=>{D!=="removed"&&Q(D)},[D]);const[Z,k]=i.useState(!1);i.useEffect(()=>{const j=setTimeout(()=>{k(!0)},300);return()=>{clearTimeout(j)}},[]);const G=c(r);let H=i.createElement("div",{className:`${e}-icon`},G);if(s==="picture"||s==="picture-card"||s==="picture-circle")if(m==="uploading"||!r.thumbUrl&&!r.url){const j=F(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:m!=="uploading"});H=i.createElement("div",{className:j},G)}else{const j=f!=null&&f(r)?i.createElement("img",{src:r.thumbUrl||r.url,alt:r.name,className:`${e}-list-item-image`,crossOrigin:r.crossOrigin}):G,ue=F(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:f&&!f(r)});H=i.createElement("a",{className:ue,onClick:ge=>U(r,ge),href:r.url||r.thumbUrl,target:"_blank",rel:"noopener noreferrer"},j)}const K=F(`${e}-list-item`,`${e}-list-item-${m}`),T=typeof r.linkProps=="string"?JSON.parse(r.linkProps):r.linkProps,V=(typeof w=="function"?w(r):w)?$((typeof N=="function"?N(r):N)||i.createElement(xt,null),()=>O(r),e,o.removeFile,!0):null,h=(typeof R=="function"?R(r):R)&&m==="done"?$((typeof y=="function"?y(r):y)||i.createElement(bt,null),()=>W(r),e,o.downloadFile):null,_=s!=="picture-card"&&s!=="picture-circle"&&i.createElement("span",{key:"download-delete",className:F(`${e}-list-item-actions`,{picture:s==="picture"})},h,V),q=typeof x=="function"?x(r):x,Y=q&&i.createElement("span",{className:`${e}-list-item-extra`},q),d=F(`${e}-list-item-name`),E=r.url?i.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:d,title:r.name},T,{href:r.url,onClick:j=>U(r,j)}),r.name,Y):i.createElement("span",{key:"view",className:d,onClick:j=>U(r,j),title:r.name},r.name,Y),M=(typeof S=="function"?S(r):S)&&(r.url||r.thumbUrl)?i.createElement("a",{href:r.url||r.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:j=>U(r,j),title:o.previewFile},typeof L=="function"?L(r):L||i.createElement(Ot,null)):null,J=(s==="picture-card"||s==="picture-circle")&&m!=="uploading"&&i.createElement("span",{className:`${e}-list-item-actions`},M,m==="done"&&h,V),{getPrefixCls:le}=i.useContext(ve),re=le(),oe=i.createElement("div",{className:K},H,E,_,J,Z&&i.createElement(Ge,{motionName:`${re}-fade`,visible:m==="uploading",motionDeadline:2e3},({className:j})=>{const ue="percent"in r?i.createElement(Kt,Object.assign({type:"line",percent:r.percent,"aria-label":r["aria-label"],"aria-labelledby":r["aria-labelledby"]},l)):null;return i.createElement("div",{className:F(`${e}-list-item-progress`,j)},ue)})),ie=r.response&&typeof r.response=="string"?r.response:((B=r.error)===null||B===void 0?void 0:B.statusText)||((I=r.error)===null||I===void 0?void 0:I.message)||o.uploadError,ee=m==="error"?i.createElement(Ve,{title:ie,getPopupContainer:j=>j.parentNode},oe):oe;return i.createElement("div",{className:F(`${e}-list-item-container`,t),style:n,ref:A},u?u(ee,r,a,{download:W.bind(null,r),preview:U.bind(null,r),remove:O.bind(null,r)}):ee)}),dn=(e,t)=>{const{listType:n="text",previewFile:o=ln,onPreview:s,onDownload:r,onRemove:a,locale:l,iconRender:c,isImageUrl:$=an,prefixCls:u,items:f=[],showPreviewIcon:S=!0,showRemoveIcon:w=!0,showDownloadIcon:R=!1,removeIcon:L,previewIcon:N,downloadIcon:y,extra:x,progress:U={size:[-1,2],showInfo:!1},appendAction:W,appendActionVisible:O=!0,itemRender:A,disabled:B}=e,I=wt(),[D,m]=i.useState(!1),Q=["picture-card","picture-circle"].includes(n);i.useEffect(()=>{n.startsWith("picture")&&(f||[]).forEach(d=>{!(d.originFileObj instanceof File||d.originFileObj instanceof Blob)||d.thumbUrl!==void 0||(d.thumbUrl="",o==null||o(d.originFileObj).then(E=>{d.thumbUrl=E||"",I()}))})},[n,f,o]),i.useEffect(()=>{m(!0)},[]);const Z=(d,E)=>{if(s)return E==null||E.preventDefault(),s(d)},k=d=>{typeof r=="function"?r(d):d.url&&window.open(d.url)},G=d=>{a==null||a(d)},H=d=>{if(c)return c(d,n);const E=d.status==="uploading";if(n.startsWith("picture")){const M=n==="picture"?i.createElement(Fe,null):l.uploading,J=$!=null&&$(d)?i.createElement(ht,null):i.createElement(yt,null);return E?M:J}return E?i.createElement(Fe,null):i.createElement(vt,null)},K=(d,E,M,J,le)=>{const re={type:"text",size:"small",title:J,onClick:oe=>{var ie,ee;E(),i.isValidElement(d)&&((ee=(ie=d.props).onClick)===null||ee===void 0||ee.call(ie,oe))},className:`${M}-list-item-action`,disabled:le?B:!1};return i.isValidElement(d)?i.createElement(Ue,Object.assign({},re,{icon:De(d,Object.assign(Object.assign({},d.props),{onClick:()=>{}}))})):i.createElement(Ue,Object.assign({},re),i.createElement("span",null,d))};i.useImperativeHandle(t,()=>({handlePreview:Z,handleDownload:k}));const{getPrefixCls:T}=i.useContext(ve),V=T("upload",u),h=T(),_=F(`${V}-list`,`${V}-list-${n}`),q=i.useMemo(()=>ze(dt(h),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[h]),Y=Object.assign(Object.assign({},Q?{}:q),{motionDeadline:2e3,motionName:`${V}-${Q?"animate-inline":"animate"}`,keys:be(f.map(d=>({key:d.uid,file:d}))),motionAppear:D});return i.createElement("div",{className:_},i.createElement(ut,Object.assign({},Y,{component:!1}),({key:d,file:E,className:M,style:J})=>i.createElement(cn,{key:d,locale:l,prefixCls:V,className:M,style:J,file:E,items:f,progress:U,listType:n,isImgUrl:$,showPreviewIcon:S,showRemoveIcon:w,showDownloadIcon:R,removeIcon:L,previewIcon:N,downloadIcon:y,extra:x,iconRender:H,actionIconRender:K,itemRender:A,onPreview:Z,onDownload:k,onClose:G})),W&&i.createElement(Ge,Object.assign({},Y,{visible:O,forceRender:!0}),({className:d,style:E})=>De(W,M=>({className:F(M.className,d),style:Object.assign(Object.assign(Object.assign({},E),{pointerEvents:d?"none":void 0}),M.style)}))))},un=i.forwardRef(dn);var pn=function(e,t,n,o){function s(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function l(u){try{$(o.next(u))}catch(f){a(f)}}function c(u){try{$(o.throw(u))}catch(f){a(f)}}function $(u){u.done?r(u.value):s(u.value).then(l,c)}$((o=o.apply(e,[])).next())})};const me=`__LIST_IGNORE_${Date.now()}__`,mn=(e,t)=>{const n=pt("upload"),{fileList:o,defaultFileList:s,onRemove:r,showUploadList:a=!0,listType:l="text",onPreview:c,onDownload:$,onChange:u,onDrop:f,previewFile:S,disabled:w,locale:R,iconRender:L,isImageUrl:N,progress:y,prefixCls:x,className:U,type:W="select",children:O,style:A,itemRender:B,maxCount:I,data:D={},multiple:m=!1,hasControlInside:Q=!0,action:Z="",accept:k="",supportServerRender:G=!0,rootClassName:H}=e,K=i.useContext(mt),T=w??K,V=e.customRequest||n.customRequest,[h,_]=gt(s||[],{value:o,postState:p=>p??[]}),[q,Y]=i.useState("drop"),d=i.useRef(null),E=i.useRef(null);i.useMemo(()=>{const p=Date.now();(o||[]).forEach((b,C)=>{!b.uid&&!Object.isFrozen(b)&&(b.uid=`__AUTO__${p}_${C}__`)})},[o]);const M=(p,b,C)=>{let g=be(b),v=!1;I===1?g=g.slice(-1):I&&(v=g.length>I,g=g.slice(0,I)),_e.flushSync(()=>{_(g)});const X={file:p,fileList:g};C&&(X.event=C),(!v||p.status==="removed"||g.some(se=>se.uid===p.uid))&&_e.flushSync(()=>{u==null||u(X)})},J=(p,b)=>pn(void 0,void 0,void 0,function*(){const{beforeUpload:C,transformFile:g}=e;let v=p;if(C){const X=yield C(p,b);if(X===!1)return!1;if(delete p[me],X===me)return Object.defineProperty(p,me,{value:!0,configurable:!0}),!1;typeof X=="object"&&X&&(v=X)}return g&&(v=yield g(v)),v}),le=p=>{const b=p.filter(v=>!v.file[me]);if(!b.length)return;const C=b.map(v=>fe(v.file));let g=be(h);C.forEach(v=>{g=$e(v,g)}),C.forEach((v,X)=>{let se=v;if(b[X].parsedFile)v.status="uploading";else{const{originFileObj:de}=v;let ae;try{ae=new File([de],de.name,{type:de.type})}catch{ae=new Blob([de],{type:de.type}),ae.name=de.name,ae.lastModifiedDate=new Date,ae.lastModified=new Date().getTime()}ae.uid=v.uid,se=ae}M(se,g)})},re=(p,b,C)=>{try{typeof p=="string"&&(p=JSON.parse(p))}catch{}if(!Ee(b,h))return;const g=fe(b);g.status="done",g.percent=100,g.response=p,g.xhr=C;const v=$e(g,h);M(g,v)},oe=(p,b)=>{if(!Ee(b,h))return;const C=fe(b);C.status="uploading",C.percent=p.percent;const g=$e(C,h);M(C,g,p)},ie=(p,b,C)=>{if(!Ee(C,h))return;const g=fe(C);g.error=p,g.response=b,g.status="error";const v=$e(g,h);M(g,v)},ee=p=>{let b;Promise.resolve(typeof r=="function"?r(p):r).then(C=>{var g;if(C===!1)return;const v=on(p,h);v&&(b=Object.assign(Object.assign({},p),{status:"removed"}),h==null||h.forEach(X=>{const se=b.uid!==void 0?"uid":"name";X[se]===b[se]&&!Object.isFrozen(X)&&(X.status="removed")}),(g=d.current)===null||g===void 0||g.abort(b),M(b,v))})},j=p=>{Y(p.type),p.type==="drop"&&(f==null||f(p))};i.useImperativeHandle(t,()=>({onBatchStart:le,onSuccess:re,onProgress:oe,onError:ie,fileList:h,upload:d.current,nativeElement:E.current}));const{getPrefixCls:ue,direction:ge,upload:ce}=i.useContext(ve),P=ue("upload",x),pe=Object.assign(Object.assign({onBatchStart:le,onError:ie,onProgress:oe,onSuccess:re},e),{customRequest:V,data:D,multiple:m,action:Z,accept:k,supportServerRender:G,prefixCls:P,disabled:T,beforeUpload:J,onChange:void 0,hasControlInside:Q});delete pe.className,delete pe.style,(!O||T)&&delete pe.id;const je=`${P}-wrapper`,[Ce,Pe,Ze]=rn(P,je),[ke]=Pt("Upload",ft.Upload),{showRemoveIcon:Re,showPreviewIcon:et,showDownloadIcon:tt,removeIcon:nt,previewIcon:rt,downloadIcon:ot,extra:it}=typeof a=="boolean"?{}:a,st=typeof Re>"u"?!T:Re,we=(p,b)=>a?i.createElement(un,{prefixCls:P,listType:l,items:h,previewFile:S,onPreview:c,onDownload:$,onRemove:ee,showRemoveIcon:st,showPreviewIcon:et,showDownloadIcon:tt,removeIcon:nt,previewIcon:rt,downloadIcon:ot,iconRender:L,extra:it,locale:Object.assign(Object.assign({},ke),R),isImageUrl:N,progress:y,appendAction:p,appendActionVisible:b,itemRender:B,disabled:T}):p,xe=F(je,U,H,Pe,Ze,ce==null?void 0:ce.className,{[`${P}-rtl`]:ge==="rtl",[`${P}-picture-card-wrapper`]:l==="picture-card",[`${P}-picture-circle-wrapper`]:l==="picture-circle"}),Ne=Object.assign(Object.assign({},ce==null?void 0:ce.style),A);if(W==="drag"){const p=F(Pe,P,`${P}-drag`,{[`${P}-drag-uploading`]:h.some(b=>b.status==="uploading"),[`${P}-drag-hover`]:q==="dragover",[`${P}-disabled`]:T,[`${P}-rtl`]:ge==="rtl"});return Ce(i.createElement("span",{className:xe,ref:E},i.createElement("div",{className:p,style:Ne,onDrop:j,onDragOver:j,onDragLeave:j},i.createElement(Me,Object.assign({},pe,{ref:d,className:`${P}-btn`}),i.createElement("div",{className:`${P}-drag-container`},O))),we()))}const at=F(P,`${P}-select`,{[`${P}-disabled`]:T,[`${P}-hidden`]:!O}),Le=i.createElement("div",{className:at,style:Ne},i.createElement(Me,Object.assign({},pe,{ref:d})));return Ce(l==="picture-card"||l==="picture-circle"?i.createElement("span",{className:xe,ref:E},we(Le,!!O)):i.createElement("span",{className:xe,ref:E},Le,we()))},Je=i.forwardRef(mn);var gn=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]]);return n};const fn=i.forwardRef((e,t)=>{var{style:n,height:o,hasControlInside:s=!1}=e,r=gn(e,["style","height","hasControlInside"]);return i.createElement(Je,Object.assign({ref:t,hasControlInside:s},r,{type:"drag",style:Object.assign(Object.assign({},n),{height:o})}))}),Qe=Je;Qe.Dragger=fn;Qe.LIST_IGNORE=me;export{Qe as U};
