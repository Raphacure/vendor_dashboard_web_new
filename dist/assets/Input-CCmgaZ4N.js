import{$ as i,r as f,x,G as Ce,_ as j,T as ge,I as J,V as Se,E as me,w as Ne,Q as Re,Y as _e,a$ as Ie,v as $e,a2 as Ae,a1 as Fe,a3 as Oe,a4 as Be,n as je,aw as Pe,a6 as xe}from"./index-DfZtGQXr.js";import{l as ke,j as ze,u as De,g as pe,a as Ke}from"./index-DJBL5awq.js";function Te(e){return!!(e.addonBefore||e.addonAfter)}function Me(e){return!!(e.prefix||e.suffix||e.allowClear)}function he(e,a,r){var n=a.cloneNode(!0),t=Object.create(e,{target:{value:n},currentTarget:{value:n}});return n.value=r,typeof a.selectionStart=="number"&&typeof a.selectionEnd=="number"&&(n.selectionStart=a.selectionStart,n.selectionEnd=a.selectionEnd),n.setSelectionRange=function(){a.setSelectionRange.apply(a,arguments)},t}function ye(e,a,r,n){if(r){var t=a;if(a.type==="click"){t=he(a,e,""),r(t);return}if(e.type!=="file"&&n!==void 0){t=he(a,e,n),r(t);return}r(t)}}function Ve(e,a){if(e){e.focus(a);var r=a||{},n=r.cursor;if(n){var t=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}}var We=i.forwardRef(function(e,a){var r,n,t,p=e.inputElement,h=e.children,v=e.prefixCls,A=e.prefix,F=e.suffix,b=e.addonBefore,O=e.addonAfter,X=e.className,se=e.style,T=e.disabled,M=e.readOnly,Z=e.focused,P=e.triggerFocus,y=e.allowClear,U=e.value,G=e.handleReset,_=e.hidden,u=e.classes,l=e.classNames,k=e.dataAttrs,w=e.styles,C=e.components,z=e.onClear,ee=h??p,s=(C==null?void 0:C.affixWrapper)||"span",V=(C==null?void 0:C.groupWrapper)||"span",E=(C==null?void 0:C.wrapper)||"span",d=(C==null?void 0:C.groupAddon)||"span",I=f.useRef(null),H=function(D){var L;(L=I.current)!==null&&L!==void 0&&L.contains(D.target)&&(P==null||P())},te=Me(e),N=f.cloneElement(ee,{value:U,className:x((r=ee.props)===null||r===void 0?void 0:r.className,!te&&(l==null?void 0:l.variant))||null}),W=f.useRef(null);if(i.useImperativeHandle(a,function(){return{nativeElement:W.current||I.current}}),te){var R=null;if(y){var Q=!T&&!M&&U,Y="".concat(v,"-clear-icon"),ne=Ce(y)==="object"&&y!==null&&y!==void 0&&y.clearIcon?y.clearIcon:"âœ–";R=i.createElement("button",{type:"button",tabIndex:-1,onClick:function(D){G==null||G(D),z==null||z()},onMouseDown:function(D){return D.preventDefault()},className:x(Y,j(j({},"".concat(Y,"-hidden"),!Q),"".concat(Y,"-has-suffix"),!!F))},ne)}var S="".concat(v,"-affix-wrapper"),ue=x(S,j(j(j(j(j({},"".concat(v,"-disabled"),T),"".concat(S,"-disabled"),T),"".concat(S,"-focused"),Z),"".concat(S,"-readonly"),M),"".concat(S,"-input-with-clear-btn"),F&&y&&U),u==null?void 0:u.affixWrapper,l==null?void 0:l.affixWrapper,l==null?void 0:l.variant),m=(F||y)&&i.createElement("span",{className:x("".concat(v,"-suffix"),l==null?void 0:l.suffix),style:w==null?void 0:w.suffix},R,F);N=i.createElement(s,ge({className:ue,style:w==null?void 0:w.affixWrapper,onClick:H},k==null?void 0:k.affixWrapper,{ref:I}),A&&i.createElement("span",{className:x("".concat(v,"-prefix"),l==null?void 0:l.prefix),style:w==null?void 0:w.prefix},A),N,m)}if(Te(e)){var $="".concat(v,"-group"),B="".concat($,"-addon"),ae="".concat($,"-wrapper"),oe=x("".concat(v,"-wrapper"),$,u==null?void 0:u.wrapper,l==null?void 0:l.wrapper),ie=x(ae,j({},"".concat(ae,"-disabled"),T),u==null?void 0:u.group,l==null?void 0:l.groupWrapper);N=i.createElement(V,{className:ie,ref:W},i.createElement(E,{className:oe},b&&i.createElement(d,{className:B},b),N,O&&i.createElement(d,{className:B},O)))}return i.cloneElement(N,{className:x((n=N.props)===null||n===void 0?void 0:n.className,X)||null,style:J(J({},(t=N.props)===null||t===void 0?void 0:t.style),se),hidden:_})}),Le=["show"];function Ue(e,a){return f.useMemo(function(){var r={};a&&(r.show=Ce(a)==="object"&&a.formatter?a.formatter:!!a),r=J(J({},r),e);var n=r,t=n.show,p=Se(n,Le);return J(J({},p),{},{show:!!t,showFormatter:typeof t=="function"?t:void 0,strategy:p.strategy||function(h){return h.length}})},[e,a])}var Ge=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],He=f.forwardRef(function(e,a){var r=e.autoComplete,n=e.onChange,t=e.onFocus,p=e.onBlur,h=e.onPressEnter,v=e.onKeyDown,A=e.onKeyUp,F=e.prefixCls,b=F===void 0?"rc-input":F,O=e.disabled,X=e.htmlSize,se=e.className,T=e.maxLength,M=e.suffix,Z=e.showCount,P=e.count,y=e.type,U=y===void 0?"text":y,G=e.classes,_=e.classNames,u=e.styles,l=e.onCompositionStart,k=e.onCompositionEnd,w=Se(e,Ge),C=f.useState(!1),z=me(C,2),ee=z[0],s=z[1],V=f.useRef(!1),E=f.useRef(!1),d=f.useRef(null),I=f.useRef(null),H=function(o){d.current&&Ve(d.current,o)},te=Ne(e.defaultValue,{value:e.value}),N=me(te,2),W=N[0],R=N[1],Q=W==null?"":String(W),Y=f.useState(null),ne=me(Y,2),S=ne[0],ue=ne[1],m=Ue(P,Z),$=m.max||T,B=m.strategy(Q),ae=!!$&&B>$;f.useImperativeHandle(a,function(){var c;return{focus:H,blur:function(){var g;(g=d.current)===null||g===void 0||g.blur()},setSelectionRange:function(g,de,le){var q;(q=d.current)===null||q===void 0||q.setSelectionRange(g,de,le)},select:function(){var g;(g=d.current)===null||g===void 0||g.select()},input:d.current,nativeElement:((c=I.current)===null||c===void 0?void 0:c.nativeElement)||d.current}}),f.useEffect(function(){E.current&&(E.current=!1),s(function(c){return c&&O?!1:c})},[O]);var oe=function(o,g,de){var le=g;if(!V.current&&m.exceedFormatter&&m.max&&m.strategy(g)>m.max){if(le=m.exceedFormatter(g,{max:m.max}),g!==le){var q,ve;ue([((q=d.current)===null||q===void 0?void 0:q.selectionStart)||0,((ve=d.current)===null||ve===void 0?void 0:ve.selectionEnd)||0])}}else if(de.source==="compositionEnd")return;R(le),d.current&&ye(d.current,o,n,le)};f.useEffect(function(){if(S){var c;(c=d.current)===null||c===void 0||c.setSelectionRange.apply(c,Re(S))}},[S]);var ie=function(o){oe(o,o.target.value,{source:"change"})},re=function(o){V.current=!1,oe(o,o.currentTarget.value,{source:"compositionEnd"}),k==null||k(o)},D=function(o){h&&o.key==="Enter"&&!E.current&&(E.current=!0,h(o)),v==null||v(o)},L=function(o){o.key==="Enter"&&(E.current=!1),A==null||A(o)},fe=function(o){s(!0),t==null||t(o)},K=function(o){E.current&&(E.current=!1),s(!1),p==null||p(o)},ce=function(o){R(""),H(),d.current&&ye(d.current,o,n)},be=ae&&"".concat(b,"-out-of-range"),we=function(){var o=_e(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return i.createElement("input",ge({autoComplete:r},o,{onChange:ie,onFocus:fe,onBlur:K,onKeyDown:D,onKeyUp:L,className:x(b,j({},"".concat(b,"-disabled"),O),_==null?void 0:_.input),style:u==null?void 0:u.input,ref:d,size:X,type:U,onCompositionStart:function(de){V.current=!0,l==null||l(de)},onCompositionEnd:re}))},Ee=function(){var o=Number($)>0;if(M||m.show){var g=m.showFormatter?m.showFormatter({value:Q,count:B,maxLength:$}):"".concat(B).concat(o?" / ".concat($):"");return i.createElement(i.Fragment,null,m.show&&i.createElement("span",{className:x("".concat(b,"-show-count-suffix"),j({},"".concat(b,"-show-count-has-suffix"),!!M),_==null?void 0:_.count),style:J({},u==null?void 0:u.count)},g),M)}return null};return i.createElement(We,ge({},w,{prefixCls:b,className:x(se,be),handleReset:ce,value:Q,focused:ee,triggerFocus:H,suffix:Ee(),disabled:O,classes:G,classNames:_,styles:u,ref:I}),we())});const Qe=e=>{let a;return typeof e=="object"&&(e!=null&&e.clearIcon)?a=e:e&&(a={clearIcon:i.createElement(Ie,null)}),a};function Ye(e,a){const r=f.useRef([]),n=()=>{r.current.push(setTimeout(()=>{var t,p,h,v;!((t=e.current)===null||t===void 0)&&t.input&&((p=e.current)===null||p===void 0?void 0:p.input.getAttribute("type"))==="password"&&(!((h=e.current)===null||h===void 0)&&h.input.hasAttribute("value"))&&((v=e.current)===null||v===void 0||v.input.removeAttribute("value"))}))};return f.useEffect(()=>(a&&n(),()=>r.current.forEach(t=>{t&&clearTimeout(t)})),[]),n}function qe(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var Je=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]]);return r};const et=f.forwardRef((e,a)=>{const{prefixCls:r,bordered:n=!0,status:t,size:p,disabled:h,onBlur:v,onFocus:A,suffix:F,allowClear:b,addonAfter:O,addonBefore:X,className:se,style:T,styles:M,rootClassName:Z,onChange:P,classNames:y,variant:U}=e,G=Je(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:_,direction:u,allowClear:l,autoComplete:k,className:w,style:C,classNames:z,styles:ee}=$e("input"),s=_("input",r),V=f.useRef(null),E=Ae(s),[d,I,H]=ke(s,Z),[te]=ze(s,E),{compactSize:N,compactItemClassnames:W}=Fe(s,u),R=Oe(K=>{var ce;return(ce=p??N)!==null&&ce!==void 0?ce:K}),Q=i.useContext(Be),Y=h??Q,{status:ne,hasFeedback:S,feedbackIcon:ue}=f.useContext(je),m=Ke(ne,t),$=qe(e)||!!S;f.useRef($);const B=Ye(V,!0),ae=K=>{B(),v==null||v(K)},oe=K=>{B(),A==null||A(K)},ie=K=>{B(),P==null||P(K)},re=(S||F)&&i.createElement(i.Fragment,null,F,S&&ue),D=Qe(b??l),[L,fe]=De("input",U,n);return d(te(i.createElement(He,Object.assign({ref:Pe(a,V),prefixCls:s,autoComplete:k},G,{disabled:Y,onBlur:ae,onFocus:oe,style:Object.assign(Object.assign({},C),T),styles:Object.assign(Object.assign({},ee),M),suffix:re,allowClear:D,className:x(se,Z,H,E,W,w),onChange:ie,addonBefore:X&&i.createElement(xe,{form:!0,space:!0},X),addonAfter:O&&i.createElement(xe,{form:!0,space:!0},O),classNames:Object.assign(Object.assign(Object.assign({},y),z),{input:x({[`${s}-sm`]:R==="small",[`${s}-lg`]:R==="large",[`${s}-rtl`]:u==="rtl"},y==null?void 0:y.input,z.input,I),variant:x({[`${s}-${L}`]:fe},pe(s,m)),affixWrapper:x({[`${s}-affix-wrapper-sm`]:R==="small",[`${s}-affix-wrapper-lg`]:R==="large",[`${s}-affix-wrapper-rtl`]:u==="rtl"},I),wrapper:x({[`${s}-group-rtl`]:u==="rtl"},I),groupWrapper:x({[`${s}-group-wrapper-sm`]:R==="small",[`${s}-group-wrapper-lg`]:R==="large",[`${s}-group-wrapper-rtl`]:u==="rtl",[`${s}-group-wrapper-${L}`]:fe},pe(`${s}-group-wrapper`,m,S),I)})}))))});export{We as B,et as I,Ue as a,Qe as g,ye as r,Ve as t,Ye as u};
